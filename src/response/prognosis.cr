require "csv"
module Response
  class Prognosis

    def initialize(body : String)
      @body = body
    end

    def to_s
      parse_prognosis
    end

    private def parse_prognosis
      data = CSV.new(@body, separator: ';')
      v = false
      code = "100"
      data.each do |row|
        if(v)
          code = row[2]
          break
        end
        v = row[0] == "Datum" if row.row.size > 0
      end
      # Hashmaps are O(1) but it won't stop this from looking like asb󰖙ute fucking garbage
      chart = {
        "20" => "",
        "22" => "",
        "23" => "",
        "26" => "",
        "27" => "",
        "36" => "",
        "37" => "",
        "38" => "",
        "39" => "",
        "68" => "",
        "69" => "",
        "70" => "",
        "71" => "",
        "72" => "",
        "73" => "",
        "74" => "",
        "75" => "",
        "77" => "",
        "78" => "",
        "83" => "",
        "84" => "",
        "85" => "",
        "86" => "",
        "87" => "",
        "88" => "",
        "89" => "",
        "90" => "",
        "93" => "",
        "94" => "",
        "95" => "",
        "96" => "",
        "97" => "",
        "99" => "",
        "122" => "",
        "124" => "",
        "127" => "",
        "128" => "",
        "129" => "",
        "167" => "",
        "168" => "",
        "170" => "",
        "171" => "",
        "172" => "",
        "173" => "",
        "174" => "",
        "175" => "",
        "176" => "",
        "177" => "",
        "185" => "",
        "186" => "",
        "187" => "",
        "189" => "",
        "192" => "",
        "193" => "",
        "195" => "",
        "196" => "",
        "210" => "",
        "211" => "",
        "223" => "",
        "239" => "",
        "246" => "",
        "259" => "",
        "270" => "",
        "271" => "",
        "272" => "",
        "273" => "",
        "274" => "",
        "275" => "",
        "276" => "",
        "277" => "",
        "278" => "",
        "279" => "",
        "282" => "",
        "283" => "",
        "284" => "",
        "285" => "",
        "286" => "",
        "287" => "",
        "288" => "",
        "289" => "",
        "290" => "",
        "291" => "",
        "79" => "",
        "111" => "",
        "178" => "",
        "17" => "",
        "29" => "",
        "217" => "",
        "292" => "",
        "293" => "",
        "13" => "",
        "98" => "",
        "112" => "",
        "126" => "",
        "190" => "",
        "191" => "",
        "194" => "",
        "213" => "",
        "11" => "󰖑",
        "12" => "󰖑",
        "28" => "󰖑",
        "40" => "󰖑",
        "41" => "󰖑",
        "42" => "󰖑",
        "43" => "󰖑",
        "44" => "󰖑",
        "45" => "󰖑",
        "46" => "󰖑",
        "47" => "󰖑",
        "48" => "󰖑",
        "49" => "󰖑",
        "76" => "󰖑",
        "120" => "󰖑",
        "130" => "󰖑",
        "131" => "󰖑",
        "132" => "󰖑",
        "133" => "󰖑",
        "134" => "󰖑",
        "135" => "󰖑",
        "241" => "󰖑",
        "242" => "󰖑",
        "244" => "󰖑",
        "245" => "󰖑",
        "247" => "󰖑",
        "248" => "󰖑",
        "249" => "󰖑",
        "4" => "󰖑",
        "10" => "󰖑",
        "104" => "󰖑",
        "105" => "󰖑",
        "110" => "󰖑",
        "224" => "󰖑",
        "225" => "󰖑",
        "21" => "",
        "24" => "",
        "25" => "",
        "50" => "",
        "51" => "",
        "52" => "",
        "53" => "",
        "54" => "",
        "55" => "",
        "56" => "",
        "57" => "",
        "58" => "",
        "59" => "",
        "60" => "",
        "61" => "",
        "62" => "",
        "63" => "",
        "64" => "",
        "65" => "",
        "66" => "",
        "67" => "",
        "80" => "",
        "81" => "",
        "82" => "",
        "91" => "",
        "92" => "",
        "123" => "",
        "125" => "",
        "150" => "",
        "151" => "",
        "152" => "",
        "153" => "",
        "154" => "",
        "155" => "",
        "156" => "",
        "157" => "",
        "158" => "",
        "160" => "",
        "161" => "",
        "162" => "",
        "163" => "",
        "164" => "",
        "165" => "",
        "166" => "",
        "180" => "",
        "181" => "",
        "182" => "",
        "183" => "",
        "184" => "",
        "250" => "",
        "251" => "",
        "252" => "",
        "253" => "",
        "254" => "",
        "255" => "",
        "256" => "",
        "257" => "",
        "260" => "",
        "261" => "",
        "262" => "",
        "263" => "",
        "264" => "",
        "265" => "",
        "266" => "",
        "267" => "",
        "280" => "",
        "281" => "",
        "16" => "",
        "121" => "",
        "140" => "",
        "141" => "",
        "142" => "",
        "143" => "",
        "144" => "",
        "145" => "",
        "146" => "",
        "147" => "",
        "148" => "",
        "227" => "",
        "0" => "󰖙",
        "1" => "󰖙",
        "2" => "󰖙",
        "3" => "󰖙",
        "5" => "󰖙",
        "6" => "󰖙",
        "7" => "󰖙",
        "8" => "󰖙",
        "9" => "󰖙",
        "14" => "󰖙",
        "15" => "󰖙",
        "18" => "󰖙",
        "19" => "󰖙",
        "30" => "󰖙",
        "31" => "󰖙",
        "32" => "󰖙",
        "33" => "󰖙",
        "34" => "󰖙",
        "35" => "󰖙",
        "100" => "󰖙",
        "101" => "󰖙",
        "102" => "󰖙",
        "103" => "󰖙",
        "118" => "󰖙",
        "199" => "󰖙",
        "204" => "󰖙",
        "206" => "󰖙",
        "207" => "󰖙",
        "208" => "󰖙",
        "209" => "󰖙",
        "219" => "󰖙",
        "220" => "󰖙",
        "221" => "󰖙",
        "222" => "󰖙",
        "226" => "󰖙",
        "228" => "󰖙",
        "230" => "󰖙",
        "243" => "󰖙",
        "508" => "󰖙",
        "509" => "󰖙",
        "510" => "󰖙",
        "511" => "󰖙",
      }
      chart[code]
    end
  end
end
